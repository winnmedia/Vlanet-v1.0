"use strict";(self.webpackChunkvridge=self.webpackChunkvridge||[]).push([[702],{5053:function(e,s,n){n(7313);s.Z=n.p+"static/media/down_icon.2b55d5de8925064e33a5130f409190a9.svg"},5588:function(e,s,n){n.r(s),n.d(s,{default:function(){return v}});var a=n(9439),t=(n(9169),n(8061)),i=n(2974),r=n(4523),c=n(1907),l=n(220),d=n(7313),o=n(8467),x=n(5554),h=n(2523),u=n(816),j=n.n(u),m=(n(1971),n(5053)),f=n(9140),p=n(6417);function v(){var e=(0,o.s0)(),s=(0,x.v9)((function(e){return e.ProjectStore})),n=(s.project_list,s.user),u=(0,d.useState)(null),j=(0,a.Z)(u,2),m=j[0],v=j[1],N=(0,o.UO)().project_id,_=["\uc6d4","\uc8fc","\uc77c"],w=(0,d.useState)("\uc6d4"),D=(0,a.Z)(w,2),b=D[0],Z=D[1],k=(0,d.useMemo)((function(){return!!m&&(n===m.owner_email||m.member_list.filter((function(e,s){return e.email===n&&"manager"===e.rating})).length>0)}),[m,n]);function y(){(0,f.bf)(N).then((function(e){v(e.data.result),console.log(e.data.result)})).catch((function(s){s.response&&s.response.data&&(window.alert(s.response.data.message),e("/CmsHome"))}))}(0,d.useEffect)((function(){console.log("????"),y()}),[N]);var S=(0,d.useState)((new Date).getDate()-1),Y=(0,a.Z)(S,2),C=Y[0],M=Y[1],E=(0,d.useState)((new Date).getMonth()),F=(0,a.Z)(E,2),H=F[0],O=F[1],P=(0,d.useState)((new Date).getFullYear()),R=(0,a.Z)(P,2),U=R[0],V=R[1],q=(0,d.useState)(0),z=(0,a.Z)(q,2),A=z[0],B=z[1],G=(0,d.useState)([]),I=(0,a.Z)(G,2),J=I[0],K=I[1],L=function(e){var s=new Date(U,H,0).getDate(),n=new Date(U,H,0).getDay();console.log("\uc774\uc804\ub0a0\uc9dc",s,n);var a=new Date(U,H+1,0).getDay(),t=new Date(U,H+1,0).getDate();console.log("\ub2e4\uc74c\ub0a0\uc9dc",t,a);var i=[];if(6!==n){var r=H-1,c=U;r<0&&(--c,r=11);for(var l=0;l<n+1;l++)i.unshift(new Date(c,r,s-l))}var d=[],o=H+1,x=U;o>11&&(++x,o=0);for(var h=1;h<7-a;h++){if(0===h)return d;d.push(new Date(x,o,h))}for(var u,j=[],m=1;m<t+1;m++)j.push(new Date(U,H,m));if("\uc77c"===e)return K(u=j),u;u=i.concat(j,d);for(var f=[],p=0;p<u.length;p+=7){var v=u.slice(p,p+7);f.push(v)}return K(f),f};return(0,d.useEffect)((function(){L(b)}),[]),(0,p.jsx)(t.Z,{children:(0,p.jsxs)("div",{className:"cms_wrap",children:[(0,p.jsx)(i.Z,{}),(0,p.jsx)("main",{className:"project",children:m&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(g,{current_project:m}),(0,p.jsxs)("div",{className:"content calendar",children:[(0,p.jsxs)("div",{className:"filter flex space_between align_center",children:[(0,p.jsx)(r.Z,{totalDate:J,year:U,month:H,setMonth:O,setYear:V,week_index:A,set_week_index:B,type:b,changeDate:L,day:C,setDay:M}),(0,p.jsxs)("div",{className:"type flex align_center",children:[(0,p.jsx)(h.Z,{defaultValue:b,style:{width:140},value:b,onChange:function(e){var s=_.indexOf(e);L(_[s]),Z(_[s])},options:_.map((function(e){return{label:e,value:e}}))}),k&&(0,p.jsx)("button",{onClick:function(){return e("/ProjectEdit/".concat(m.id))},className:"submit",children:"\ud504\ub85c\uc81d\ud2b8 \uad00\ub9ac"})]})]}),J&&(0,p.jsx)(c.Z,{totalDate:J,month:H,year:U,week_index:A,type:b,day:C,current_project:m,is_admin:k,refetch:y}),(0,p.jsx)("div",{className:"list_mark",children:(0,p.jsxs)("ul",{children:[(0,p.jsxs)("li",{children:[(0,p.jsx)("span",{className:"first"}),"\uae30\ucd08\uae30\ud68d\uc548 \uc791\uc131"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("span",{className:"second"}),"\uc2a4\ud1a0\ub9ac\ubcf4\ub4dc \uc791\uc131"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("span",{className:"third"}),"\ucd2c\uc601 (\uacc4\ud68d/\uc9c4\ud589)"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("span",{className:"fourth"}),"\ube44\ub514\uc624 \ud3b8\uc9d1"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("span",{className:"fifth"}),"\ud6c4\ubc18 \uc791\uc5c5"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("span",{className:"sixth"}),"\ube44\ub514\uc624 \uc2dc\uc0ac (\ud53c\ub4dc\ubc31)"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("span",{className:"seven"}),"\ucd5c\uc885 \ucee8\ud38c"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("span",{className:"eighth"}),"\uc601\uc0c1 \ub0a9\ud488"]})]})}),(0,p.jsx)(l.Z,{project_list:[m]})]})]})})]})})}var g=d.memo((function(e){var s=e.current_project,n=(0,d.useState)(!1),t=(0,a.Z)(n,2),i=t[0],r=t[1],c=(0,d.useRef)(),l=(0,d.useState)(0),o=(0,a.Z)(l,2),x=o[0],h=o[1];(0,d.useEffect)((function(){c.current&&h(c.current.scrollHeight)}),[c.current,i]);var u={height:i?"".concat(x,"px"):"0"};function f(e){return e.split("/").pop().split("\\").pop()}return(0,p.jsxs)("div",{className:"info_wrap",children:[(0,p.jsxs)("div",{className:"name_box flex align_center space_between",children:[(0,p.jsxs)("div",{className:" flex align_center start",children:[(0,p.jsx)("button",{className:i?"on":"",onClick:function(){r(!i)},children:"\ubc84\ud2bc"}),(0,p.jsx)("div",{className:"s_title",children:s.name})]}),(0,p.jsxs)("div",{children:["\ucd5c\uc885 \uc5c5\ub370\uc774\ud2b8 \ub0a0\uc9dc |"," ",j()(s.updated).format("YYYY.MM.DD")]})]}),(0,p.jsx)("div",{className:"box",style:u,children:(0,p.jsxs)("div",{ref:c,className:"inner",children:[(0,p.jsxs)("div",{className:"explanation",children:[(0,p.jsx)("div",{className:"ss_title",children:(0,p.jsx)("span",{children:"\ud504\ub85c\uc81d\ud2b8 \uc124\uba85"})}),(0,p.jsx)("p",{children:s.description})]}),(0,p.jsxs)("div",{className:"member",children:[(0,p.jsx)("div",{className:"ss_title",children:(0,p.jsx)("span",{children:"\uba64\ubc84"})}),(0,p.jsxs)("ul",{children:[(0,p.jsxs)("li",{className:"admin",children:[(0,p.jsx)("div",{className:"img"}),(0,p.jsxs)("div",{className:"txt",children:[s.owner_nickname,"(\uad00\ub9ac\uc790)",(0,p.jsx)("span",{children:s.owner_email})]})]}),s.member_list.map((function(e,s){return(0,p.jsxs)("li",{className:"manager"===e.rating?"admin":"basic",children:[(0,p.jsx)("div",{className:"img"}),(0,p.jsxs)("div",{className:"txt",children:[e.nickname,"(","manager"===e.rating?"\uad00\ub9ac\uc790":"\uc77c\ubc18",")",(0,p.jsx)("span",{children:e.email})]})]},s)}))]})]}),(0,p.jsxs)("div",{className:"info",children:[(0,p.jsx)("div",{className:"ss_title",children:(0,p.jsx)("span",{children:"\ud504\ub85c\uc81d\ud2b8 \uc815\ubcf4"})}),(0,p.jsxs)("dl",{children:[(0,p.jsx)("dt",{children:"\uc791\uc5c5\uc790"}),(0,p.jsx)("dd",{children:s.manager})]}),(0,p.jsxs)("dl",{children:[(0,p.jsx)("dt",{children:"\uace0\uac1d\uc0ac"}),(0,p.jsx)("dd",{children:s.consumer})]}),(0,p.jsxs)("dl",{children:[(0,p.jsxs)("dt",{children:["\ud504\ub85c\uc81d\ud2b8",(0,p.jsx)("br",{}),"\uc0dd\uc131\uc77c"]}),(0,p.jsx)("dd",{children:j()(s.created).format("YYYY.MM.DD")})]}),(0,p.jsxs)("dl",{children:[(0,p.jsx)("dt",{children:"\ub4f1\ub85d \ud30c\uc77c"}),(0,p.jsx)("dd",{children:s.files.map((function(e,s){return(0,p.jsxs)("div",{onClick:function(){return function(e){if(e){var s=document.createElement("a");s.href=e,s.download=f(e),s.target="_blank",s.click()}}(e.files)},children:[f(e.file_name),(0,p.jsx)("i",{children:(0,p.jsx)("img",{src:m.Z})})]},s)}))})]})]})]})})]})}))}}]);