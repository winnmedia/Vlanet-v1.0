"use strict";(self.webpackChunkvridge=self.webpackChunkvridge||[]).push([[584],{450:(e,s,t)=>{t.r(s),t.d(s,{default:()=>C});var n=t(9379),r=t(9950),a=t(8429),l=t(9980),i=(t(2350),t(7778)),c=t(9989),o=t(7533),d=t(287);var u=t(4414);function m(e){let{project_id:s,refetch:t,initialTime:a,onTimeChange:i}=e;const c={secret:"",title:"",section:a||"",contents:""},{inputs:d,onChange:m,set_inputs:h}=(0,o.A)(c),{secret:p,section:v,contents:x}=d;return(0,r.useEffect)(()=>{a&&h(e=>(0,n.A)((0,n.A)({},e),{},{section:a}))},[a,h]),(0,u.jsxs)("div",{className:"form",children:[(0,u.jsxs)("div",{className:"flex align_center",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{type:"radio",id:"user_type",name:"secret",value:!0,onChange:m,className:"ty02"}),(0,u.jsx)("label",{htmlFor:"user_type",children:"\uc775\uba85"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{type:"radio",id:"user_type2",name:"secret",value:!1,onChange:m,className:"ty02"}),(0,u.jsx)("label",{htmlFor:"user_type2",children:"\uc77c\ubc18"})]})]}),(0,u.jsx)("input",{type:"text",name:"section",value:v,placeholder:"\uad6c\uac04 \uc785\ub825 (EX_ 05:30)",onChange:m,className:"ty01 mt20"}),(0,u.jsx)("input",{type:"text",name:"contents",value:x,placeholder:"\ub0b4\uc6a9 \uc785\ub825",onChange:m,className:"ty01 mt20"}),(0,u.jsx)("button",{onClick:function(){var e,n;p&&v&&x?(e=d,n=s,(0,l.nx)("put","/feedbacks/".concat(n),e)).then(e=>{window.alert("\ud53c\ub4dc\ubc31 \ub4f1\ub85d\uc774 \ub418\uc5c8\uc2b5\ub2c8\ub2e4."),h({secret:"",title:"",section:"",contents:""});document.getElementsByName("secret").forEach(e=>{e.checked=!1}),i&&i(""),t()}).catch(e=>{e.response&&e.response.data&&window.alert(e.response.data.message)}):window.alert("\uc785\ub825\ub780\uc744 \ucc44\uc6cc\uc8fc\uc138\uc694.")},className:"submit mt40",children:"\ud53c\ub4dc\ubc31 \ub4f1\ub85d"})]})}function h(e){let{refetch:s,current_project:t,user:n,onTimeClick:r}=e;function a(e){var t;(t=e,(0,l.nx)("delete","/feedbacks/".concat(t))).then(e=>{console.log(e),window.alert("\ud53c\ub4dc\ubc31\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),s()}).catch(e=>{e.response&&e.response.data&&window.alert(e.response.data.message)})}const i=t.feedback.filter(e=>e.email==n);return(0,u.jsx)("div",{className:"history",children:(0,u.jsx)("ul",{children:i.length>0?i.map((e,s)=>(0,u.jsx)("li",{children:(0,u.jsxs)("div",{className:"flex align_center space_between",children:[(0,u.jsxs)("div",{className:"txt_box",children:[(0,u.jsx)("div",{className:"time",style:{cursor:"pointer",color:"#ff4545"},onClick:()=>{r&&e.section&&r(e.section)},children:e.section}),(0,u.jsx)("p",{children:e.text})]}),(0,u.jsx)("button",{onClick:()=>a(e.id),className:"delete",children:"\uc0ad\uc81c"})]})},s)):(0,u.jsx)("div",{className:"flex mt50 justify_center",children:"\ud53c\ub4dc\ubc31\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})})})}var p=t(9051),v=t.n(p);t(82);function x(e){let{current_project:s,onTimeClick:t}=e;const[n,a]=(0,r.useState)([]),[l,i]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let e={};s.feedback.forEach(s=>{const t=v()(s.created).format("YYYY.MM.DD.dd");e.hasOwnProperty(t)?e[t].push(s):e[t]=[s]}),a(Object.entries(e))},[s]),(0,u.jsx)(u.Fragment,{children:n.map((e,s)=>(0,u.jsxs)("div",{className:"box",children:[(0,u.jsx)("div",{className:"day",children:e[0]}),(0,u.jsx)("ul",{children:e[1].map((e,s)=>(0,u.jsxs)("li",{className:l&&l.id===e.id?"on":"",onClick:()=>i(e),children:[(0,u.jsx)("span",{style:{cursor:"pointer",color:"#ff4545"},onClick:s=>{s.stopPropagation(),t&&e.section&&t(e.section)},children:e.section}),l&&l.id===e.id&&(0,u.jsxs)("div",{className:"view-container",children:[(0,u.jsx)("div",{className:"view",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"txt_box",children:l.security?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"name",children:"\uc775\uba85"}),(0,u.jsx)("span",{className:"name",children:l.section})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"name",children:l.nickname}),(0,u.jsx)("span",{className:"email",children:l.email})]})}),(0,u.jsx)("div",{className:"comment_box",children:l.text})]})}),(0,u.jsx)("button",{className:"close-button",onClick:e=>(e=>{e.stopPropagation(),i(null)})(e),children:"X"})]})]},s))})]},s))})}t(8738);function j(e){let{Rating:s,ws:t,socketConnected:n,items:a,me:l}=e;const i=(0,r.useRef)(),{email:c,nickname:o,rating:d}=l,[m,h]=(0,r.useState)("");function p(){const e=m.replaceAll(" ","");n?e.length>0&&(t.current.send(JSON.stringify({email:c,nickname:o,rating:d,message:m})),h("")):window.alert("\ucc44\ud305 \uc11c\ubc84\uac00 \ubd88\uc548\uc815\ud569\ub2c8\ub2e4. \uc7ac\uc811\uc18d \ud574\uc8fc\uc138\uc694.")}return(0,r.useEffect)(()=>{i.current&&i.current.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},[a]),n&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"comment",children:(0,u.jsx)("ul",{children:a.length>0?a.map((e,t)=>(0,u.jsxs)("li",{ref:t===a.length-1?i:null,children:[(0,u.jsxs)("div",{className:"flex align_center",children:[(0,u.jsx)("div",{className:"\uad00\ub9ac\uc790"==s(e.rating)?"img_box admin":"img_box basic"}),(0,u.jsxs)("div",{className:"txt_box",children:[(0,u.jsxs)("span",{className:"name",children:[e.nickname,(0,u.jsxs)("small",{className:"\uad00\ub9ac\uc790"==s(e.rating)?"admin":"basic",children:["(",s(e.rating),")"]})]}),(0,u.jsx)("span",{className:"email",children:e.email})]})]}),(0,u.jsx)("div",{className:"comment_box",children:e.message})]},t)):(0,u.jsx)("li",{className:"empty",children:"\uc6f9\ud398\uc774\uc9c0\ub97c \ub2eb\uc744 \uacbd\uc6b0 \ub300\ud654 \ub0b4\uc6a9\uc740 \uc800\uc7a5\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."})})}),l&&(0,u.jsxs)("div",{className:"pr",children:[(0,u.jsx)("input",{type:"text",value:m,onChange:e=>h(e.target.value),onKeyUp:function(){13==window.event.keyCode&&p()},placeholder:"\ucc44\ud305 \uc785\ub825",className:"ty01",style:{padding:"0 120px 0 15px"}}),(0,u.jsx)("button",{onClick:p,className:"cert",children:"\uc785\ub825"})]})]})}const g=(0,r.forwardRef)((e,s)=>{let{videoUrl:t,onTimeClick:n,initialTime:a,onError:l,onFeedbackClick:i}=e;const[c,o]=(0,r.useState)(!1),[d,m]=(0,r.useState)(0),[h,p]=(0,r.useState)(0),[v,x]=(0,r.useState)(1),[j,g]=(0,r.useState)(1),[f,b]=(0,r.useState)(!1),[N,w]=(0,r.useState)(null),k=(0,r.useRef)(!0);(0,r.useEffect)(()=>()=>{k.current=!1},[]);const[y,C]=(0,r.useState)(!1),[_,S]=(0,r.useState)(null),[E,L]=(0,r.useState)(!1),T=(0,r.useRef)(null),[M,R]=((0,r.useRef)(null),(0,r.useState)(!1));(0,r.useImperativeHandle)(s,()=>({seekTo:e=>{T.current&&(T.current.currentTime=e,m(e))},play:()=>{T.current&&(T.current.play(),o(!0))},pause:()=>{T.current&&(T.current.pause(),o(!1))}})),(0,r.useEffect)(()=>{const e=T.current;if(!e||!t)return;console.log("Video URL changed:",t),console.log("Checking video URL validity:",t),e.src=t;const s=s=>{console.error("Video error event:",s),console.error("Video readyState:",e.readyState),console.error("Video networkState:",e.networkState),console.error("Current src:",e.src)};e.addEventListener("error",s),e.load();const n=setTimeout(()=>{y&&k.current&&(S("\uc601\uc0c1 \ub85c\ub529 \uc2dc\uac04\uc774 \ucd08\uacfc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ud398\uc774\uc9c0\ub97c \uc0c8\ub85c\uace0\uce68\ud574\uc8fc\uc138\uc694."),C(!1))},3e4),r=()=>m(e.currentTime),a=()=>{p(e.duration),C(!1),clearTimeout(n),console.log("Video duration:",e.duration)},l=()=>{e.src&&e.src===t||(C(!0),S(null),console.log("Video loading started"))},i=()=>{C(!1),S(null),clearTimeout(n),console.log("Video can play")},c=()=>{C(!1),S(null),clearTimeout(n),console.log("Video data loaded")};return e.addEventListener("timeupdate",r),e.addEventListener("loadedmetadata",a),e.addEventListener("loadstart",l),e.addEventListener("canplay",i),e.addEventListener("loadeddata",c),()=>{clearTimeout(n),e&&(e.pause(),e.removeAttribute("src"),e.load()),e.removeEventListener("timeupdate",r),e.removeEventListener("loadedmetadata",a),e.removeEventListener("loadstart",l),e.removeEventListener("canplay",i),e.removeEventListener("loadeddata",c),e.removeEventListener("error",s)}},[t]),(0,r.useEffect)(()=>{const e=T.current;if(!e)return;let s=0,t=0;const n=n=>{s=n.touches[0].clientX,t=e.currentTime},r=n=>{if(!s)return;const r=(n.touches[0].clientX-s)/e.clientWidth*30;e.currentTime=Math.max(0,Math.min(t+r,e.duration))},a=()=>{s=0,t=0};return window.innerWidth<=768&&(e.addEventListener("touchstart",n),e.addEventListener("touchmove",r),e.addEventListener("touchend",a)),()=>{e.removeEventListener("touchstart",n),e.removeEventListener("touchmove",r),e.removeEventListener("touchend",a)}},[]),(0,r.useEffect)(()=>{const e=e=>{if(T.current)switch(e.key){case" ":e.preventDefault(),V();break;case"ArrowLeft":e.preventDefault(),e.shiftKey?z(-1/30):z(-10);break;case"ArrowRight":e.preventDefault(),e.shiftKey?z(1/30):z(10);break;case"ArrowUp":e.preventDefault();const s=Math.min(1,v+.1);T.current.volume=s,x(s);break;case"ArrowDown":e.preventDefault();const t=Math.max(0,v-.1);T.current.volume=t,x(t);break;case"f":e.preventDefault(),document.fullscreenElement?document.exitFullscreen():T.current.requestFullscreen();break;case"s":e.preventDefault(),A();break;case"c":e.preventDefault(),I()}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[v,c]);const V=()=>{const e=T.current;if(e)if(c)e.pause(),o(!1);else{const s=e.play();void 0!==s?s.then(()=>{k.current&&o(!0)}).catch(e=>{"AbortError"===e.name?console.log("Playback was prevented"):"NotAllowedError"===e.name?(console.log("User interaction required"),S("\uc7ac\uc0dd \ubc84\ud2bc\uc744 \ub2e4\uc2dc \ud074\ub9ad\ud574\uc8fc\uc138\uc694."),setTimeout(()=>S(null),3e3)):(console.error("Error attempting to play video:",e),S("\uc601\uc0c1 \uc7ac\uc0dd\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")),k.current&&o(!1)}):o(!0)}},U=e=>{const s=Math.floor(e/60),t=Math.floor(e%60);return"".concat(s.toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0"))},I=()=>{i?i(d):n&&n(d)},z=e=>{const s=T.current;s.currentTime=Math.max(0,Math.min(s.currentTime+e,h))},A=()=>{try{const s=T.current;if(!s||s.readyState<2)return console.error("Video not ready for screenshot"),void alert("\uc601\uc0c1\uc774 \uc544\uc9c1 \ub85c\ub4dc\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.");const t=document.createElement("canvas");t.width=s.videoWidth||s.clientWidth,t.height=s.videoHeight||s.clientHeight;const n=t.getContext("2d");try{n.drawImage(s,0,0,t.width,t.height);const e=t.toDataURL("image/png",1),r=document.createElement("a");r.href=e,r.download="screenshot_".concat(U(d).replace(":","-"),"_").concat(Date.now(),".png"),document.body.appendChild(r),r.click(),document.body.removeChild(r),console.log("Screenshot saved successfully")}catch(e){console.error("Screenshot failed:",e),"SecurityError"===e.name?alert("CORS \uc815\ucc45\uc73c\ub85c \uc778\ud574 \uc2a4\ud06c\ub9b0\uc0f7\uc744 \ucc0d\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n\n\uc774 \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud558\ub824\uba74 \uc11c\ubc84\uc5d0\uc11c \uc801\uc808\ud55c CORS \ud5e4\ub354\uac00 \uc124\uc815\ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4."):alert("\uc2a4\ud06c\ub9b0\uc0f7 \ucea1\ucc98\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}}catch(_){console.error("Screenshot error:",_),alert("\uc2a4\ud06c\ub9b0\uc0f7 \ucea1\ucc98 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}};return(0,u.jsxs)("div",{className:"feedback-player",children:[(0,u.jsxs)("div",{className:"video-container",children:[y&&(0,u.jsxs)("div",{className:"loading-overlay",children:[(0,u.jsx)("div",{className:"spinner"}),(0,u.jsx)("p",{children:"\uc601\uc0c1 \ub85c\ub529\uc911..."})]}),_&&(0,u.jsxs)("div",{className:"error-overlay",children:[(0,u.jsx)("svg",{viewBox:"0 0 24 24",width:"48",height:"48",children:(0,u.jsx)("path",{fill:"#ff4444",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),(0,u.jsx)("p",{children:_}),(0,u.jsxs)("p",{className:"error-url",children:["URL: ",t]})]}),(0,u.jsx)("video",{ref:T,onClick:V,onPlay:()=>o(!0),onPause:()=>o(!1),crossOrigin:"anonymous",onError:e=>{if("source"===e.target.tagName.toLowerCase())return;const s=e.target.error;console.error("Video playback error:",e),console.error("Video URL:",t),console.error("Error details:",s);let n="\uc601\uc0c1\uc744 \uc7ac\uc0dd\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.";if(s)switch(s.code){case s.MEDIA_ERR_NETWORK:n="\ub124\ud2b8\uc6cc\ud06c \uc624\ub958: \uc601\uc0c1\uc744 \ub85c\ub4dc\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.";break;case s.MEDIA_ERR_DECODE:n="\ub514\ucf54\ub4dc \uc624\ub958: \uc601\uc0c1 \ud615\uc2dd\uc744 \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";break;case s.MEDIA_ERR_SRC_NOT_SUPPORTED:n="\uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \uc601\uc0c1 \ud615\uc2dd\uc785\ub2c8\ub2e4. MP4, WebM, OGG \ud615\uc2dd\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4.";break;case s.MEDIA_ERR_ABORTED:n="\uc601\uc0c1 \ub85c\ub4dc\uac00 \ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}const r=t.split(".").pop().toLowerCase();["mp4","webm","ogg","mov","avi","mkv"].includes(r)||(n+=" (".concat(r," \ud615\uc2dd\uc740 \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c \uc9c1\uc811 \uc7ac\uc0dd\uc774 \uc5b4\ub824\uc6b8 \uc218 \uc788\uc2b5\ub2c8\ub2e4)")),S(n),C(!1),l&&l(e)},onLoadedData:()=>{console.log("Video loaded successfully:",t),S(null)},playsInline:!0,controls:!1,preload:"metadata"}),(0,u.jsx)("div",{className:"video-overlay",onClick:V,children:!c&&(0,u.jsx)("div",{className:"play-button",children:(0,u.jsx)("svg",{viewBox:"0 0 24 24",width:"60",height:"60",children:(0,u.jsx)("path",{fill:"white",d:"M8 5v14l11-7z"})})})})]}),(0,u.jsxs)("div",{className:"controls",children:[(0,u.jsxs)("div",{className:"progress-bar",children:[(0,u.jsx)("input",{type:"range",min:"0",max:"100",value:d/h*100||0,onChange:e=>{const s=T.current,t=e.target.value/100*h;s.currentTime=t,m(t)},className:"seek-slider"}),(0,u.jsx)("div",{className:"progress-fill",style:{width:"".concat(d/h*100,"%")}})]}),(0,u.jsxs)("div",{className:"control-buttons",children:[(0,u.jsxs)("div",{className:"left-controls",children:[(0,u.jsx)("button",{onClick:V,className:"play-pause",children:c?(0,u.jsx)("svg",{viewBox:"0 0 24 24",width:"24",height:"24",children:(0,u.jsx)("path",{fill:"currentColor",d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}):(0,u.jsx)("svg",{viewBox:"0 0 24 24",width:"24",height:"24",children:(0,u.jsx)("path",{fill:"currentColor",d:"M8 5v14l11-7z"})})}),(0,u.jsxs)("div",{className:"time-display",children:[U(d)," / ",U(h)]})]}),(0,u.jsxs)("div",{className:"right-controls",children:[(0,u.jsxs)("button",{onClick:I,className:"icon-button comment-button",title:"\ud604\uc7ac \uc2dc\uc810\uc5d0 \ud53c\ub4dc\ubc31 \ucd94\uac00",children:[(0,u.jsx)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:(0,u.jsx)("path",{fill:"currentColor",d:"M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"})}),(0,u.jsx)("span",{className:"button-text",children:"\ud604\uc7ac \uc2dc\uc810\uc5d0 \ud53c\ub4dc\ubc31"})]}),(0,u.jsx)("button",{onClick:A,className:"icon-button",title:"\uc2a4\ud06c\ub9b0\uc0f7 \ucc0d\uae30",children:(0,u.jsx)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:(0,u.jsx)("path",{fill:"currentColor",d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})})}),(0,u.jsxs)("div",{className:"volume-control",onMouseEnter:()=>L(!0),onMouseLeave:()=>L(!1),children:[(0,u.jsx)("button",{className:"icon-button volume-button",onClick:()=>x(v>0?0:1),children:(0,u.jsx)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:0===v?(0,u.jsx)("path",{fill:"currentColor",d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"}):v<.5?(0,u.jsx)("path",{fill:"currentColor",d:"M7 9v6h4l5 5V4l-5 5H7z"}):(0,u.jsx)("path",{fill:"currentColor",d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})})}),(0,u.jsx)("div",{className:"volume-slider-container ".concat(E?"show":""),children:(0,u.jsx)("input",{type:"range",min:"0",max:"100",value:100*v,onChange:e=>{const s=e.target.value/100;T.current.volume=s,x(s)},className:"volume-slider"})})]}),(0,u.jsx)("div",{className:"playback-rate",children:(0,u.jsx)("button",{className:"icon-button rate-button",onClick:()=>{const e=[.5,.75,1,1.25,1.5,2],s=(e.indexOf(j)+1)%e.length;var t;t=e[s],T.current.playbackRate=t,g(t)},children:(0,u.jsxs)("span",{className:"rate-text",children:[j,"x"]})})}),(0,u.jsx)("button",{onClick:()=>{document.fullscreenElement?document.exitFullscreen():T.current.requestFullscreen()},className:"icon-button",title:"\uc804\uccb4\ud654\uba74",children:(0,u.jsx)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:document.fullscreenElement?(0,u.jsx)("path",{fill:"currentColor",d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}):(0,u.jsx)("path",{fill:"currentColor",d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})})})]})]})]})]})});g.displayName="FeedbackPlayer";const f=g,b=(0,r.forwardRef)((e,s)=>{let{videoUrl:t,onTimeClick:n,initialTime:a,onError:l,onFeedbackClick:i}=e;const[c,o]=(0,r.useState)(!1),[d,m]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!0),v=(0,r.useRef)(null);if(!(x=t)||!(x.startsWith("http://")||x.startsWith("https://")||x.startsWith("/")))return console.error("Invalid video URL:",t),(0,u.jsx)("div",{className:"video-player-wrapper",children:(0,u.jsxs)("div",{className:"error-container",children:[(0,u.jsx)("p",{children:"\u26a0\ufe0f \uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \ube44\ub514\uc624 URL\uc785\ub2c8\ub2e4."}),(0,u.jsxs)("p",{className:"error-detail",children:["URL: ",t||"\uc5c6\uc74c"]})]})});var x;(0,r.useImperativeHandle)(s,()=>({seekTo:e=>{v.current&&v.current.seekTo(e)},play:()=>{v.current&&v.current.play()},pause:()=>{v.current&&v.current.pause()}}));const j=(e=>{if(!e)return"";const s=e.match(/\.([^.]+)(?:\?.*)?$/);return s?s[1].toLowerCase():""})(t),g=["avi","mkv","wmv","flv","m4v"];return(0,r.useEffect)(()=>{p(!0),m(!1);const e=setTimeout(()=>{g.includes(j)?(console.log("Detected ".concat(j," format, using native player")),o(!0)):o(!1),p(!1)},100);return()=>clearTimeout(e)},[t,j]),h?(0,u.jsx)("div",{className:"video-player-wrapper",children:(0,u.jsxs)("div",{className:"loading-container",children:[(0,u.jsx)("div",{className:"spinner"}),(0,u.jsx)("p",{children:"\ube44\ub514\uc624 \ud615\uc2dd \ud655\uc778 \uc911..."})]})}):c||d?(0,u.jsx)("div",{className:"video-player-wrapper",children:(0,u.jsxs)("div",{className:"native-player-container",children:[d&&(0,u.jsxs)("div",{className:"format-warning",children:[(0,u.jsx)("p",{children:"\u26a0\ufe0f \ucee4\uc2a4\ud140 \ud50c\ub808\uc774\uc5b4\uc5d0\uc11c \uc7ac\uc0dd\ud560 \uc218 \uc5c6\ub294 \ud615\uc2dd\uc785\ub2c8\ub2e4."}),(0,u.jsx)("p",{children:"\ube0c\ub77c\uc6b0\uc800 \uae30\ubcf8 \ud50c\ub808\uc774\uc5b4\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."})]}),(0,u.jsxs)("video",{ref:v,src:t,controls:!0,width:"100%",height:"100%",crossOrigin:"anonymous",onError:e=>{console.error("Native player also failed:",e),l&&l(e)},children:[(0,u.jsx)("source",{src:t,type:"video/".concat(j)}),(0,u.jsx)("source",{src:t}),"\ube0c\ub77c\uc6b0\uc800\uac00 \ube44\ub514\uc624 \uc7ac\uc0dd\uc744 \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]}),(0,u.jsx)("div",{className:"player-info",children:(0,u.jsxs)("small",{children:["\ub124\uc774\ud2f0\ube0c \ud50c\ub808\uc774\uc5b4 \uc0ac\uc6a9 \uc911 | \ud615\uc2dd: ",j.toUpperCase()]})})]})}):(0,u.jsx)(f,{ref:v,videoUrl:t,onTimeClick:n,initialTime:a,onError:e=>{console.error("Video playback error detected, switching to native player"),m(!0),o(!0),l&&l(e)},onFeedbackClick:i})});b.displayName="VideoPlayer";const N=b;function w(e){let{onClose:s}=e;return(0,u.jsx)("div",{className:"video-upload-guide-overlay",onClick:s,children:(0,u.jsxs)("div",{className:"video-upload-guide",onClick:e=>e.stopPropagation(),children:[(0,u.jsxs)("div",{className:"guide-header",children:[(0,u.jsx)("h3",{children:"\uc601\uc0c1 \uc5c5\ub85c\ub4dc \uac00\uc774\ub4dc"}),(0,u.jsx)("button",{className:"close-btn",onClick:s,children:"\xd7"})]}),(0,u.jsxs)("div",{className:"guide-content",children:[(0,u.jsxs)("div",{className:"section",children:[(0,u.jsx)("h4",{children:"\uc9c0\uc6d0 \ud615\uc2dd"}),(0,u.jsxs)("ul",{children:[(0,u.jsx)("li",{children:"MP4 (\uad8c\uc7a5)"}),(0,u.jsx)("li",{children:"WebM"}),(0,u.jsx)("li",{children:"OGG"}),(0,u.jsx)("li",{children:"MOV"}),(0,u.jsx)("li",{children:"AVI"}),(0,u.jsx)("li",{children:"MKV"})]})]}),(0,u.jsxs)("div",{className:"section",children:[(0,u.jsx)("h4",{children:"\uad8c\uc7a5 \uc0ac\uc591"}),(0,u.jsxs)("ul",{children:[(0,u.jsx)("li",{children:"\ud574\uc0c1\ub3c4: 1920x1080 (Full HD) \uc774\ud558"}),(0,u.jsx)("li",{children:"\ube44\ud2b8\ub808\uc774\ud2b8: 5-10 Mbps"}),(0,u.jsx)("li",{children:"\ud504\ub808\uc784\ub808\uc774\ud2b8: 30fps"}),(0,u.jsx)("li",{children:"\ucf54\ub371: H.264 (MP4)"}),(0,u.jsx)("li",{children:"\ucd5c\ub300 \ud06c\uae30: 600MB"})]})]}),(0,u.jsxs)("div",{className:"section",children:[(0,u.jsx)("h4",{children:"\ubb38\uc81c \ud574\uacb0"}),(0,u.jsxs)("ul",{children:[(0,u.jsx)("li",{children:"\uc601\uc0c1\uc774 \uc7ac\uc0dd\ub418\uc9c0 \uc54a\ub294 \uacbd\uc6b0:"}),(0,u.jsx)("li",{className:"sub",children:"1. \ud30c\uc77c \ud615\uc2dd\uc744 \ud655\uc778\ud558\uc138\uc694"}),(0,u.jsx)("li",{className:"sub",children:"2. \ud30c\uc77c\uc774 \uc190\uc0c1\ub418\uc9c0 \uc54a\uc558\ub294\uc9c0 \ud655\uc778\ud558\uc138\uc694"}),(0,u.jsx)("li",{className:"sub",children:"3. \ub2e4\ub978 \ud615\uc2dd\uc73c\ub85c \ubcc0\ud658 \ud6c4 \uc2dc\ub3c4\ud558\uc138\uc694"}),(0,u.jsx)("li",{className:"sub",children:"4. \uae30\uc874 \ud30c\uc77c\uc744 \uc0ad\uc81c\ud558\uace0 \ub2e4\uc2dc \uc5c5\ub85c\ub4dc\ud558\uc138\uc694"})]})]}),(0,u.jsxs)("div",{className:"section warning",children:[(0,u.jsx)("p",{children:"\u26a0\ufe0f \ud55c\uae00 \ud30c\uc77c\uba85\uc740 \uc790\ub3d9\uc73c\ub85c \uc601\ubb38\uc73c\ub85c \ubcc0\ud658\ub429\ub2c8\ub2e4."}),(0,u.jsx)("p",{children:"\u26a0\ufe0f \ud2b9\uc218\ubb38\uc790\uac00 \ud3ec\ud568\ub41c \ud30c\uc77c\uba85\uc740 \ud53c\ud574\uc8fc\uc138\uc694."})]})]})]})})}const k=(e,s)=>{const[t,n]=(0,r.useState)(e);if(s&&Array.isArray(s))return{currentItem:s[t],changeItem:n}};t(9888);var y=t(2569);function C(){const e=(0,a.Zp)(),{user:s}=(0,y.d4)(e=>e.ProjectStore),{project_id:t}=(0,a.g)(),[o,p]=(0,r.useState)(0),[g,f]=(0,r.useState)(null),[b,C]=(0,r.useState)(0),_=(0,r.useRef)(null),[S,E]=(0,r.useState)(!1),[L,T]=(0,r.useState)(!1),[M,R]=(0,r.useState)(0),[V,U]=(0,r.useState)(null),[I,z]=(0,r.useState)(null),[A,F]=(0,r.useState)(""),[D,P]=(0,r.useState)(!1),H=(0,r.useMemo)(()=>!!g&&(s===g.owner_email||g.member_list.filter((e,t)=>e.email===s&&"manager"===e.rating).length>0),[g,s]),O=()=>{p(Date.now())};function B(e){return"manager"===e?"\uad00\ub9ac\uc790":"\uc77c\ubc18"}(0,r.useEffect)(()=>()=>{I&&clearInterval(I)},[I]),(0,r.useEffect)(()=>{(0,l.dy)()||e("/Login",{replace:!0})},[]),(0,r.useEffect)(()=>{var e;(e=t,(0,l.nx)("get","/feedbacks/".concat(e))).then(e=>{var s,t;if(console.log("Feedback data:",e.data.result),console.log("Files URL:",null===(s=e.data.result)||void 0===s?void 0:s.files),console.log("Full response:",e.data),null!==(t=e.data.result)&&void 0!==t&&t.files){console.log("File URL type:",typeof e.data.result.files),console.log("File URL value:",e.data.result.files);const s=e.data.result.files.startsWith("http")?e.data.result.files:"https://videoplanet.up.railway.app".concat(e.data.result.files.startsWith("/")?"":"/").concat(e.data.result.files);console.log("Testing URL:",s),fetch(s,{method:"HEAD"}).then(e=>{console.log("File check response:",e.status,e.statusText),console.log("Response headers:",e.headers)}).catch(e=>{console.error("File check error:",e)})}f(e.data.result)}).catch(e=>{e.response&&e.response.data&&window.alert(e.response.data.message)})},[t,o]);const[W,G]=(0,r.useState)(!1),[Y,K]=(0,r.useState)({email:"",nickname:"",rating:""}),q=t?"ws://localhost:8000/ws/chat/".concat(t,"/"):null;let Z=(0,r.useRef)(null);const[J,X]=(0,r.useState)([]);(0,r.useEffect)(()=>{if(g&&s)if(g.owner_email===s)K({email:g.owner_email,nickname:g.owner_nickname,rating:"manager"});else{let e=g.member_list.filter(e=>e.email===s);1===e.length&&(e=e[0],K({email:e.email,nickname:e.nickname,rating:e.rating}))}},[g,s]),(0,r.useEffect)(()=>{if(q&&t)return Z.current=new WebSocket(q),Z.current.onopen=()=>{console.log("connected"),G(!0);const e=JSON.parse(window.sessionStorage.getItem("items"));e&&e.id==t?X(e.items):X([])},Z.current.onclose=e=>{console.log("disconnect")},Z.current.onerror=e=>{console.log("connection error"),console.log(e)},Z.current.onmessage=e=>{const s=JSON.parse(e.data);X(e=>[...e,s.result])},()=>{Z.current&&Z.current.close()}},[t]),(0,r.useEffect)(()=>{if(J.length>0){const e={id:t,items:J};window.sessionStorage.setItem("items",JSON.stringify(e))}},[J]);const $=[{tab:"\ud53c\ub4dc\ubc31",content:g&&(0,u.jsx)(j,{Rating:B,socketConnected:W,ws:Z,items:J,me:Y})},{tab:"\ud53c\ub4dc\ubc31 \ub4f1\ub85d",content:(0,u.jsx)(m,{project_id:t,refetch:O,initialTime:A,onTimeChange:F})},{tab:"\ud53c\ub4dc\ubc31 \uad00\ub9ac",content:g&&(0,u.jsx)(h,{refetch:O,current_project:g,user:s,onTimeClick:e=>{const s=e.split(":"),t=60*(parseInt(s[0])||0)+(parseInt(s[1])||0);_.current&&_.current.seekTo&&_.current.seekTo(t)}})},{tab:"\uba64\ubc84",content:g&&(0,u.jsx)("div",{className:"member",children:(0,u.jsxs)("ul",{children:[(0,u.jsxs)("li",{className:"admin",children:[(0,u.jsx)("div",{className:"img"}),(0,u.jsxs)("div",{className:"txt",children:[g.owner_nickname,"(\uad00\ub9ac\uc790)",(0,u.jsx)("span",{children:g.owner_email})]})]}),g.member_list.map((e,s)=>(0,u.jsxs)("li",{className:"manager"===e.rating?"admin":"basic",children:[(0,u.jsx)("div",{className:"img"}),(0,u.jsxs)("div",{className:"txt",children:[e.nickname,"(",B(e.rating),")",(0,u.jsx)("span",{children:e.email})]})]},s))]})})}],{currentItem:Q,changeItem:ee}=k(0,$);function se(e){return s===e.owner_email||e.member_list.filter((e,t)=>e.email===s&&"manager"===e.rating).length>0}function te(e){const s=e.target.files[0];if(!s)return void console.error("No file selected");if(s.size>629145600)return window.alert("\ud30c\uc77c \ud06c\uae30\uac00 \ub108\ubb34 \ud07d\ub2c8\ub2e4. 600MB \uc774\ud558\uc758 \ud30c\uc77c\ub9cc \uc5c5\ub85c\ub4dc \uac00\ub2a5\ud569\ub2c8\ub2e4."),void(e.target.value="");const n=s.name.split(".").pop().toLowerCase();if(!["video/mp4","video/webm","video/ogg","video/quicktime","video/x-msvideo","video/x-matroska"].includes(s.type)&&!["mp4","webm","ogg","mov","avi","mkv"].includes(n))return window.alert("\uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ud30c\uc77c \ud615\uc2dd\uc785\ub2c8\ub2e4. MP4, WebM, OGG, MOV, AVI, MKV \ud615\uc2dd\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4."),void(e.target.value="");console.log("Selected file:",s.name,"Size:",s.size,"Type:",s.type);const r=new FormData;r.append("files",s),r.append("filename",s.name),console.log("FormData contents:");for(let t of r.entries())console.log(t[0]+", "+t[1]);if(window.confirm("\ud30c\uc77c\uc744 \uc5c5\ub85c\ub4dc \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){T(!0),R(0),console.log("Uploading file to project:",t),console.log("Backend URL:","https://videoplanet.up.railway.app/api");(function(e,s,t){var n;const r=null===(n=localStorage.getItem("VGID"))||void 0===n?void 0:n.replace(/"/g,"");console.log("File upload token:",r);const a={method:"post",url:"http://localhost:8000/feedbacks/".concat(s),data:e,headers:{Authorization:r?"Bearer ".concat(r):""},onUploadProgress:t,timeout:3e5,withCredentials:!0};return console.log("Upload config:",a),(0,d.A)(a)})(r,t,e=>{const s=Math.round(100*e.loaded/e.total);R(s),console.log("Upload progress:",s+"%"),console.log("Loaded:",e.loaded,"Total:",e.total),console.log("Time:",(new Date).toISOString()),s>0&&s<100&&(window.lastProgressTime=(new Date).getTime(),setTimeout(()=>{const e=(new Date).getTime()-window.lastProgressTime;e>9e3&&s<100&&console.error("Upload appears to be stalled. Last progress:",e/1e3,"seconds ago")},1e4))}).then(s=>{var t,n;console.log("Upload success:",s),console.log("Response data:",s.data),console.log("Uploaded file URL:",(null===(t=s.data)||void 0===t?void 0:t.file_url)||(null===(n=s.data)||void 0===n?void 0:n.files)||"No URL returned"),T(!1),R(100);window.alert("\ud30c\uc77c\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc5c5\ub85c\ub4dc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),O(),e.target.value="",setTimeout(()=>R(0),1e3)}).catch(s=>{var t,n;console.error("Upload error:",s),console.error("Error response:",s.response),console.error("Error status:",null===(t=s.response)||void 0===t?void 0:t.status),console.error("Error data:",null===(n=s.response)||void 0===n?void 0:n.data),e.target.value="",T(!1),R(0),s.response&&s.response.data&&s.response.data.message?window.alert(s.response.data.message):s.response&&401===s.response.status?window.alert("\uc778\uc99d\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. \ub2e4\uc2dc \ub85c\uadf8\uc778\ud574\uc8fc\uc138\uc694."):s.response&&413===s.response.status?window.alert("\ud30c\uc77c \ud06c\uae30\uac00 \ub108\ubb34 \ud07d\ub2c8\ub2e4."):window.alert("\ud30c\uc77c \uc5c5\ub85c\ub4dc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")})}else e.target.value=""}return(0,u.jsxs)(i.A,{children:[(0,u.jsxs)("div",{className:"cms_wrap",children:[(0,u.jsx)(c.A,{tab:"feedback"}),(0,u.jsx)("main",{children:g&&(0,u.jsxs)("div",{className:"content feedback feedback_page flex space_between",children:[(0,u.jsxs)("div",{className:"videobox video_section",children:[(0,u.jsxs)("div",{className:g.files?"video_inner active":"video_inner",children:[g.files&&(0,u.jsx)(N,{ref:_,videoUrl:(()=>{const e=g.files;console.log("Original file URL:",e),console.log("Backend URL from env:","https://videoplanet.up.railway.app/api"),console.log("Backend URI from env:","https://videoplanet.up.railway.app");if(e&&e.startsWith("http"))return console.log("Using full URL:",e),e;const s="https://videoplanet.up.railway.app";if(e&&e.startsWith("/")){const t="".concat(s).concat(e);return console.log("Constructed URL:",t),t}if(e){const t="".concat(s,"/").concat(e);return console.log("Constructed URL with slash:",t),t}return console.error("File URL is null or undefined"),""})(),initialTime:b,onFeedbackClick:e=>{const s=Math.floor(e/60),t=Math.floor(e%60),n="".concat(s.toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0"));F(n),ee(1)},onTimeClick:e=>{const s=Math.floor(e/60),t=Math.floor(e%60),n="".concat(s.toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0")),r=document.querySelector('input[name="section"]');r&&(r.value=n)}}),se(g)&&!g.files&&(0,u.jsxs)("div",{className:"upload_area",children:[(0,u.jsxs)("div",{className:"upload_btn_wrap",children:[(0,u.jsx)("input",{type:"file",accept:"video/*",onChange:te,className:"video_upload",id:"files",name:"files"}),(0,u.jsx)("label",{htmlFor:"files",className:"video_upload_label",children:(0,u.jsx)("div",{children:"\uc601\uc0c1 \ucd94\uac00"})})]}),(0,u.jsx)("button",{className:"guide_btn",onClick:()=>E(!0),children:"\uc5c5\ub85c\ub4dc \uac00\uc774\ub4dc"})]}),L&&(0,u.jsx)("div",{className:"loading",children:(0,u.jsxs)("div",{className:"loading-content",children:[(0,u.jsxs)("div",{className:"progress-container",children:[(0,u.jsx)("div",{className:"progress-bar",children:(0,u.jsx)("div",{className:"progress-fill",style:{width:"".concat(M,"%")}})}),(0,u.jsxs)("div",{className:"progress-text",children:[M,"%"]})]}),(0,u.jsx)("div",{className:"loading-message",children:"\uc601\uc0c1 \uc5c5\ub85c\ub4dc \uc911..."})]})}),!1]}),(0,u.jsxs)("div",{className:"etc_box",children:[(0,u.jsxs)("div",{className:"flex space_between align_center",children:[(0,u.jsx)("button",{onClick:()=>e("/FeedbackAll",{state:(0,n.A)((0,n.A)({},g),{},{user:s})}),className:"all",children:"\ud53c\ub4dc\ubc31 \uc804\uccb4 \ubcf4\uae30"}),se(g)&&g.files&&(0,u.jsxs)("div",{className:"good",children:[(0,u.jsxs)("div",{className:"change_btn_wrap",children:[(0,u.jsx)("input",{type:"file",accept:"video/*",onChange:te,name:"files",className:"video_upload",id:"files"}),(0,u.jsx)("label",{htmlFor:"files",className:"video_upload_label",children:(0,u.jsx)("div",{children:"\uad50\uccb4"})})]}),(0,u.jsx)("div",{className:"change_btn_wrap",children:(0,u.jsx)("div",{className:"video_upload_label",children:(0,u.jsx)("div",{onClick:function(){var e;window.confirm("\ud30c\uc77c\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(e=t,(0,l.nx)("delete","".concat("https://videoplanet.up.railway.app/api","/feedbacks/file/").concat(e))).then(e=>{O()}).catch(e=>{e.response&&e.response.data&&window.alert(e.response.data.message)})},className:"delete",children:"\uc0ad\uc81c"})})})]}),(0,u.jsx)("div",{onClick:()=>function(e){const s=document.createElement("textarea");document.body.appendChild(s),s.value=e,s.select(),document.execCommand("copy"),document.body.removeChild(s),window.alert("\ub9c1\ud06c\uac00 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}(g.files),className:"share",children:"\uacf5\uc720"})]}),(0,u.jsx)("div",{className:"list",children:(0,u.jsx)(x,{current_project:g,onTimeClick:e=>{const s=e.split(":"),t=60*(parseInt(s[0])||0)+(parseInt(s[1])||0);_.current&&_.current.seekTo&&_.current.seekTo(t)}})})]})]}),(0,u.jsxs)("div",{className:"sidebox",children:[(0,u.jsxs)("div",{className:"b_title",children:[(0,u.jsxs)("div",{className:"s_title",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,u.jsx)("span",{children:"\ud53c\ub4dc\ubc31"}),(0,u.jsx)("button",{onClick:()=>P(!D),style:{background:"#0058da",border:"none",borderRadius:"50%",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"transform 0.3s ease",transform:D?"rotate(180deg)":"rotate(0deg)"},children:(0,u.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"white",children:(0,u.jsx)("path",{d:"M7 10l5 5 5-5z"})})})]}),D&&g&&(0,u.jsxs)("div",{style:{marginTop:"15px",padding:"15px",background:"#f8f8f8",borderRadius:"8px",fontSize:"14px"},children:[(0,u.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,u.jsx)("strong",{children:"\ud504\ub85c\uc81d\ud2b8:"})," ",g.name]}),(0,u.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,u.jsx)("strong",{children:"\ub2f4\ub2f9\uc790:"})," ",g.manager]}),(0,u.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,u.jsx)("strong",{children:"\uace0\uac1d\uc0ac:"})," ",g.consumer]}),(0,u.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,u.jsx)("strong",{children:"\uc0dd\uc131\uc77c:"})," ",v()(g.created).format("YYYY.MM.DD")]}),g.description&&(0,u.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,u.jsx)("strong",{children:"\uc124\uba85:"})," ",g.description]}),H&&(0,u.jsx)("button",{style:{width:"100%",marginTop:"10px",padding:"8px",background:"#0058da",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"background 0.3s ease"},onMouseOver:e=>e.target.style.background="#0047b8",onMouseOut:e=>e.target.style.background="#0058da",onClick:()=>e("/ProjectEdit/".concat(t)),children:"\ud504\ub85c\uc81d\ud2b8 \uad00\ub9ac"})]})]}),(0,u.jsxs)("div",{className:"tab_container",children:[(0,u.jsx)("div",{className:"top_box tab_menu",children:(0,u.jsx)("ul",{className:"tab_list",children:$.map((e,s)=>(0,u.jsx)("li",{className:Q.tab==e.tab?"active":"",onClick:()=>ee(s),children:(0,u.jsx)("button",{children:e.tab})},s))})}),(0,u.jsx)("div",{className:"tab_content",children:Q.content})]})]})]})})]}),S&&(0,u.jsx)(w,{onClose:()=>E(!1)})]})}},1229:(e,s,t)=>{t.d(s,{A:()=>n});t(9950);const n=t.p+"static/media/w_logo02.c3a46531333484fe7df22d5b96288faf.svg"},2350:()=>{},7533:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(9379),r=t(9950);const a=(e,s)=>{const[t,a]=(0,r.useState)(e);return{inputs:t,onChange:e=>{const{name:r,value:l}=e.target;let i=!0;"function"==typeof s&&"description"!=r&&(i=s(l)),i&&a((0,n.A)((0,n.A)({},t),{},{[r]:l}))},set_inputs:a}}},7778:(e,s,t)=>{t.d(s,{A:()=>m});var n=t(8738),r=t.n(n),a=t(8429),l=t(1229);t.p;var i=t(4414);function c(e){let{leftItems:s=[],rightItems:t=[],children:n,props:r}=e;const l=(0,a.Zp)(),c=o(s,l),d=o(t,l);return(0,i.jsxs)("div",{className:"Header",children:[(0,i.jsx)("div",{children:c}),(0,i.jsx)("div",{className:"profile",children:d})]})}function o(){let e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((s,t)=>{if("img"===s.type){return(0,i.jsx)("div",{className:s.className,children:(0,i.jsx)("img",{style:{cursor:"pointer"},onClick:()=>e("/CmsHome"),alt:"img_".concat(t),src:s.src})},t)}if("string"===s.type){return(0,i.jsx)("div",{className:s.className,children:s.text},t)}})}function d(){const e=(0,a.Zp)();return(0,i.jsx)("div",{className:"LoginIntro",children:(0,i.jsxs)("div",{className:"intro_wrap",children:[(0,i.jsx)("h1",{className:"logo",children:(0,i.jsx)("img",{onClick:()=>e("/"),src:l.A})}),(0,i.jsxs)("div",{className:"slogun",children:["\ub2f9\uc2e0\uc758 \ucc3d\uc758\ub825\uc5d0",(0,i.jsx)("br",{}),"\ub0a0\uac1c\ub97c \ub2ec\uc544 \uc904",(0,i.jsx)("br",{}),(0,i.jsx)("span",{children:"\ucf58\ud150\uce20 \uc81c\uc791 \ud611\uc5c5\ud234"})]}),(0,i.jsxs)("div",{className:"etc flex space_between align_center",children:[(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:["Connect",(0,i.jsx)("br",{})," with each other"]}),(0,i.jsxs)("li",{children:["Easy",(0,i.jsx)("br",{})," Feedback"]}),(0,i.jsxs)("li",{children:["Study",(0,i.jsx)("br",{})," Together"]})]}),(0,i.jsxs)("div",{children:["vlanet to",(0,i.jsx)("br",{})," connection"]})]})]})})}t(9950),t(9980);var u=t(2569);function m(e){let{leftItems:s,rightItems:t=[],header:n=!0,footer:o=!1,navigation:m=!0,children:h,auth:p,props:v,noLogin:x}=e;(0,a.Zp)();const{nickname:j,user:g}=(0,u.d4)(e=>e.ProjectStore);return void 0===s&&(s=[{type:"img",src:l.A,className:"logo"}]),j&&(t=[{type:"string",className:"nick",text:j.substr(0,1)},{type:"string",className:"mail",text:g||j}]),(0,i.jsx)("div",{className:r()("PageTemplate",{auth:p}),children:p?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d,{}),h]}):(0,i.jsxs)(i.Fragment,{children:[n&&(0,i.jsx)(c,{leftItems:s,rightItems:t}),h]})})}},9888:(e,s,t)=>{t.d(s,{A:()=>n});t(9950);const n=t.p+"static/media/down_icon.2b55d5de8925064e33a5130f409190a9.svg"},9989:(e,s,t)=>{t.d(s,{A:()=>d});var n=t(8738),r=t.n(n),a=t(9950),l=t(8429),i=t(2569),c=t(9980),o=t(4414);function d(e){let{tab:s,on_menu:t}=e;const n=(0,l.Zp)(),d=(0,l.zy)().pathname,{project_list:u,user:m}=(0,i.d4)(e=>e.ProjectStore),[h,p]=(0,a.useState)(!1),[v,x]=(0,a.useState)(""),[j,g]=(0,a.useState)([]),f=(0,a.useRef)(null),b=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(u){const e=[...u];e.sort((e,s)=>e.name.toLowerCase()<s.name.toLowerCase()?-1:1),g(e)}},[u]),(0,a.useEffect)(()=>{p(!0===t),x(s)},[t,s]),(0,a.useEffect)(()=>{d.includes("/Feedback")?x("feedback"):(d.includes("/ProjectView")||d.includes("/ProjectEdit")||d.includes("/ProjectCreate"))&&x("project")},[d]),(0,a.useEffect)(()=>{function e(e){h&&f.current&&!f.current.contains(e.target)&&b.current&&!b.current.contains(e.target)&&p(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[h]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("aside",{className:"SideBar",ref:b,children:[(0,o.jsx)("nav",{children:(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{className:r()({active:"/CmsHome"===d&&!h}),onClick:()=>{p(!1),n("/CmsHome")},children:"\ud648"}),(0,o.jsx)("li",{className:r()({active:"/Calendar"===d&&!h}),onClick:()=>{p(!1),n("/Calendar")},children:"\uc804\uccb4 \uc77c\uc815"}),(0,o.jsxs)("li",{className:r()("menu_project",{active:d.includes("/ProjectView")||h&&"project"===v}),onClick:()=>{p("feedback"===v||!h),x("project")},children:["\ud504\ub85c\uc81d\ud2b8 \uad00\ub9ac",(0,o.jsx)("span",{children:u.length})]}),(0,o.jsx)("li",{className:r()({active:d.includes("/Feedback")||h&&"feedback"===v}),onClick:()=>{p("project"===v||!h),x("feedback")},children:"\uc601\uc0c1 \ud53c\ub4dc\ubc31"}),(0,o.jsx)("li",{className:r()({active:"/Elearning"===d&&!h}),onClick:()=>{p(!1),n("/Elearning")},children:"\ucf58\ud150\uce20"})]})}),(0,o.jsx)("div",{className:"logout",onClick:()=>{(0,c.dy)()&&window.localStorage.removeItem("VGID"),n("/login",{replace:!0})},children:"\ub85c\uadf8\uc544\uc6c3"})]}),(0,o.jsxs)("div",{ref:f,className:h?"Submenu active":"Submenu",onClick:e=>{e.stopPropagation()},children:[(0,o.jsxs)("div",{className:"etc",children:[(0,o.jsx)("div",{className:"ss_title",children:"feedback"===v?"\uc601\uc0c1 \ud53c\ub4dc\ubc31":"\ud504\ub85c\uc81d\ud2b8 \uad00\ub9ac"}),(0,o.jsxs)("ul",{children:["project"===v&&j.length>0&&(0,o.jsx)("li",{onClick:e=>{e.stopPropagation(),n("/ProjectCreate")},className:"plus",children:"+"}),(0,o.jsx)("li",{onClick:e=>{e.stopPropagation(),p(!1)},className:"close",children:"x"})]})]}),(0,o.jsx)("nav",{children:(0,o.jsx)("ul",{children:j.map((e,s)=>(0,o.jsx)("li",{onClick:s=>{s.stopPropagation(),n("project"===v?"/ProjectView/".concat(e.id):"/Feedback/".concat(e.id)),p(!1)},children:e.name},s))})}),0===j.length&&(0,o.jsxs)("div",{className:"empty",children:["\ub4f1\ub85d\ub41c ",(0,o.jsx)("br",{}),"\ud504\ub85c\uc81d\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4",(0,o.jsx)("button",{onClick:()=>n("/ProjectCreate"),className:"submit",children:"\ud504\ub85c\uc81d\ud2b8 \ub4f1\ub85d"})]})]})]})}}}]);