"use strict";(self.webpackChunkvridge=self.webpackChunkvridge||[]).push([[455],{781:function(n,e,t){t.d(e,{$9:function(){return f},$f:function(){return s},G8:function(){return u},Mo:function(){return r},Sk:function(){return l},Zu:function(){return p},cL:function(){return i},d7:function(){return d},s2:function(){return c},tq:function(){return a}});var o=t(7467);function r(n){return(0,o.Fi)("post","".concat("https://api.vridge.kr","/users/signup"),n)}function i(n){return(0,o.Fi)("post","".concat("https://api.vridge.kr","/users/login"),n)}function s(n,e){return(0,o.Fi)("post","".concat("https://api.vridge.kr","/users/send_authnumber/").concat(e),n)}function c(n,e){return(0,o.Fi)("post","".concat("https://api.vridge.kr","/users/signup_emailauth/").concat(e),n)}function a(n){return(0,o.Fi)("post","".concat("https://api.vridge.kr","/users/password_reset"),n)}function u(n){return(0,o.Fi)("post","".concat("https://api.vridge.kr","/users/login/kakao"),n)}function l(n){return(0,o.Fi)("post","".concat("https://api.vridge.kr","/users/login/naver"),n)}function d(n){return(0,o.Fi)("post","".concat("https://api.vridge.kr","/users/login/google"),n)}function p(n){return(0,o.Fi)("post","".concat("https://api.vridge.kr","/users/memo"),n)}function f(n){return(0,o.Fi)("delete","".concat("https://api.vridge.kr","/users/memo/").concat(n))}},8061:function(n,e,t){t.d(e,{Z:function(){return g}});var o=t(6123),r=t.n(o),i=t(8467),s=t(7313);var c=t.p+"static/media/b_logo.50fdca0b29c4577c5499669e5e4f269d.svg",a=(t.p,t(6417));function u(n){var e=n.leftItems,t=void 0===e?[]:e,o=n.rightItems,r=void 0===o?[]:o,s=(n.children,n.props,(0,i.s0)()),c=l(t,s),u=l(r,s);return(0,a.jsxs)("div",{className:"Header",children:[(0,a.jsx)("div",{children:c}),(0,a.jsx)("div",{className:"profile",children:u})]})}function l(){var n=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e,t){return"img"===e.type?(0,a.jsx)("div",{className:e.className,children:(0,a.jsx)("img",{style:{cursor:"pointer"},onClick:function(){return n("/CmsHome")},alt:"img_".concat(t),src:e.src})},t):"string"===e.type?(0,a.jsx)("div",{className:e.className,children:e.text},t):void 0}))}var d=t.p+"static/media/w_logo02.c3a46531333484fe7df22d5b96288faf.svg";function p(){var n=(0,i.s0)();return(0,a.jsx)("div",{className:"LoginIntro",children:(0,a.jsxs)("div",{className:"intro_wrap",children:[(0,a.jsx)("h1",{className:"logo",children:(0,a.jsx)("img",{onClick:function(){return n("/")},src:d})}),(0,a.jsxs)("div",{className:"slogun",children:["\ub2f9\uc2e0\uc758 \ucc3d\uc758\ub825\uc5d0",(0,a.jsx)("br",{}),"\ub0a0\uac1c\ub97c \ub2ec\uc544 \uc904",(0,a.jsx)("br",{}),(0,a.jsx)("span",{children:"\ucf58\ud150\uce20 \uc81c\uc791 \ud611\uc5c5\ud234"})]}),(0,a.jsxs)("div",{className:"etc flex space_between align_center",children:[(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:["Connect",(0,a.jsx)("br",{})," with each other"]}),(0,a.jsxs)("li",{children:["Easy",(0,a.jsx)("br",{})," Feedback"]}),(0,a.jsxs)("li",{children:["Study",(0,a.jsx)("br",{})," Together"]})]}),(0,a.jsxs)("div",{children:["vlanet to",(0,a.jsx)("br",{})," connection"]})]})]})})}var f=t(7467),h=t(5554);function g(n){var e=n.leftItems,t=n.rightItems,o=void 0===t?[]:t,l=n.header,d=void 0===l||l,g=(n.footer,n.navigation,n.children),v=n.auth,m=(n.props,n.noLogin),k=(0,i.s0)(),x=(0,h.v9)((function(n){return n.ProjectStore})),j=x.nickname,w=x.user;return(0,s.useEffect)((function(){m||((0,f.bV)()||k("/Login",{replace:!0}))}),[]),void 0===e&&(e=[{type:"img",src:c,className:"logo"}]),j&&(o=[{type:"string",className:"nick",text:j.substr(0,1)},{type:"string",className:"mail",text:w||j}]),(0,a.jsx)("div",{className:r()("PageTemplate",{auth:v}),children:v?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p,{}),g]}):(0,a.jsxs)(a.Fragment,{children:[d&&(0,a.jsx)(u,{leftItems:e,rightItems:o}),g]})})}},5031:function(n,e,t){t.r(e),t.d(e,{default:function(){return j}});var o=t(4942),r=t(1413),i=t(9439),s=(t(6624),t(8061)),c=t(5733),a=t(7313),u=t(8467),l=t(2135),d=t(5554),p=t(781),f=t(7467),h=function(n,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])},h(n,e)};var g={display:"inline-block",padding:"0px",width:"222px",height:"49px",lineHeight:"49px",color:"rgb(60, 30, 30)",backgroundColor:"rgb(255, 235, 0)",border:"1px solid transparent",borderRadius:"3px",fontSize:"16px",textAlign:"center"},v=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={isLoggedIn:!1},e.onButtonClick=function(){var n,t=e.props,o=t.throughTalk,r=void 0===o||o,i=t.persistAccessToken,s=void 0===i||i,c=t.needProfile,a=void 0===c||c,u=t.useLoginForm,l=void 0!==u&&u,d=t.onSuccess,p=t.onFail,f=l?"loginForm":"login";(null===(n=window.Kakao)||void 0===n?void 0:n.Auth)[f]({throughTalk:r,persistAccessToken:s,success:function(n){var t;e.setState({isLoggedIn:!0}),a?null===(t=window.Kakao)||void 0===t||t.API.request({url:"/v2/user/me",success:function(e){d({response:n,profile:e})},fail:p}):d({response:n})},fail:p})},e.onLogout=function(){var n;null===(n=window.Kakao)||void 0===n||n.Auth.logout((function(){var n,t,o;null===(t=(n=e.props).onLogout)||void 0===t||t.call(n,null===(o=window.Kakao)||void 0===o?void 0:o.Auth.getAccessToken()),e.setState({isLoggedIn:!1})}))},e}return function(n,e){function t(){this.constructor=n}h(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}(e,n),e.prototype.componentDidMount=function(){return function(n,e,t,o){return new(t||(t=Promise))((function(r,i){function s(n){try{a(o.next(n))}catch(n){i(n)}}function c(n){try{a(o.throw(n))}catch(n){i(n)}}function a(n){var e;n.done?r(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(s,c)}a((o=o.apply(n,e||[])).next())}))}(this,void 0,void 0,(function(){return function(n,e){var t,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(n,s)}catch(n){i=[6,n],o=0}finally{t=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n,e){var t=document.createElement("script");t.id="kakao-sdk",t.src="//developers.kakao.com/sdk/js/kakao.min.js",t.onload=n,document.body.append(t)}))];case 1:return n.sent(),window.Kakao.init(this.props.token),[2]}}))}))},e.prototype.render=function(){var n=this.state.isLoggedIn?this.onLogout:this.onButtonClick,e=this.props,t=e.render,o=e.className,r=void 0===o?"":o,i=e.style,s=void 0===i?g:i,c=e.children,u=void 0===c?"\uce74\uce74\uc624\ub85c \ub85c\uadf8\uc778\ud558\uae30":c;return"function"==typeof t?t({onClick:n}):a.createElement("button",{type:"button",className:r,onClick:n,style:s},u)},e.DEFAULT_STYLE=g,e}(a.PureComponent),m=v,k=t(2840),x=t(6417);function j(){var n=(0,d.I0)(),e=(0,u.s0)(),t=(0,a.useState)({email:"",password:""}),h=(0,i.Z)(t,2),g=h[0],v=h[1],j=g.email,w=g.password,b=(0,a.useState)(""),y=(0,i.Z)(b,2),_=y[0],N=y[1],C=(0,l.lr)(),S=(0,i.Z)(C,1)[0],F=c.Z.parse(S.toString()),L=F.uid,I=F.token,E=F.code,T=F.state,A="https://nid.naver.com/oauth2.0/authorize?response_type=code&client_id=".concat("ULTTEW7rjmCPaf_0D4h5","&state=").concat("1234","&redirect_uri=").concat("http://localhost:3000/login"),P=function(n){var e=n.target,t=e.value,i=e.name;v((0,r.Z)((0,r.Z)({},g),{},(0,o.Z)({},i,t)))};(0,a.useEffect)((function(){(0,f.bV)()&&e(L&&I?"/EmailCheck?uid=".concat(L,"&token=").concat(I):"/CmsHome")}),[]);var Z=(0,a.useState)({code:"",state:""}),H=(0,i.Z)(Z,2),K=H[0],O=H[1];(0,a.useEffect)((function(){var n;return n=setInterval((function(){E&&T&&(clearInterval(n),O({code:E,state:T}))}),500),function(){clearInterval(n)}}),[]),(0,a.useEffect)((function(){K.code&&K.state&&(0,p.Sk)(K).then((function(n){D(n.data.vridge_session)})).catch((function(n){e("/login"),G(n)}))}),[K]);var D=function(t){window.localStorage.setItem("VGID",JSON.stringify(t)),(0,f.J_)(n,e),L&&I?e("/EmailCheck?uid=".concat(L,"&token=").concat(I)):e("/CmsHome",{replace:!0})},G=function(n){n.response&&n.response.data&&n.response.data.message&&window.alert(n.response.data.message)};return(0,x.jsx)(s.Z,{auth:!0,noLogin:!0,children:(0,x.jsx)("div",{className:"Auth_Form",children:(0,x.jsxs)("div",{className:"form_wrap",children:[(0,x.jsx)("div",{className:"title",children:"\ub85c\uadf8\uc778"}),(0,x.jsx)("input",{type:"text",name:"email",placeholder:"\uc774\uba54\uc77c",className:"ty01 mt50",value:j,onChange:P}),(0,x.jsx)("input",{type:"password",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638",className:"ty01 mt10",value:w,onChange:P}),_&&(0,x.jsx)("div",{className:"error",children:_}),(0,x.jsx)("div",{className:"find_link tr",onClick:function(){return e("/ResetPw")},children:"\ube44\ubc00\ubc88\ud638 \ucc3e\uae30"}),(0,x.jsx)("button",{className:"submit mt20",onClick:function(){j.length>0&&w.length>0?(0,p.cL)(g).then((function(n){D(n.data.vridge_session)})).catch((function(n){N("\uc774\uba54\uc77c \ub610\ub294 \ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")})):0===j.length?N("\uc544\uc774\ub514\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."):N("\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")},children:"\ub85c\uadf8\uc778"}),(0,x.jsxs)("div",{className:"mt20 signup_link",children:["\ube0c\uc774\ub9bf\uc9c0\uac00 \ucc98\uc74c\uc774\uc2e0\uac00\uc694?"," ",(0,x.jsx)("span",{onClick:function(){return e("/Signup")},children:"\uac04\ud3b8 \uac00\uc785\ud558\uae30"})]}),(0,x.jsx)("div",{className:"line"}),(0,x.jsx)("div",{className:"sns_login",children:(0,x.jsxs)("ul",{children:[(0,x.jsx)(m,{token:"117366cb5cf84e9a2f0b1dc2d1c6e5b8",onSuccess:function(n){(0,p.G8)({access_token:n.response.access_token}).then((function(n){D(n.data.vridge_session)})).catch((function(n){G(n)}))},onFail:console.error,onLogout:console.info,useLoginForm:!0,render:function(n){var e=n.onClick;return(0,x.jsx)("li",{onClick:function(n){e()},className:"kakao",children:"\uce74\uce74\uc624 \ub85c\uadf8\uc778"})}}),(0,x.jsx)("li",{onClick:(0,k.Nq)({onSuccess:function(n){(0,p.d7)(n).then((function(n){console.log(n),D(n.data.vridge_session)})).catch((function(n){G(n)}))},onError:function(n){return console.log(n)},scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile openid",state:String(Math.floor(1e4*Math.random())),include_granted_scopes:!0}),className:"google",children:"\uad6c\uae00 \ub85c\uadf8\uc778"}),(0,x.jsx)("li",{onClick:function(){window.location.href=A},className:"naver",children:"\ub124\uc774\ubc84 \ub85c\uadf8\uc778"})]})})]})})})}},6624:function(){}}]);