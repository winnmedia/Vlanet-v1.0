# 🌐 가비아 DNS 설정 완전 가이드

## 1. 가비아 DNS 설정 접근

### 로그인 및 접근 경로
1. **가비아 홈페이지 접속**: https://www.gabia.com
2. **로그인** → My가비아
3. **서비스 관리** → **도메인 관리**
4. **관리할 도메인 선택** → **DNS 정보** 또는 **DNS 관리**

## 2. 기본 DNS 레코드 설정

### A 레코드 설정 (IPv4 주소 연결)

#### 메인 도메인 설정
```
레코드 타입: A
호스트명: @ (또는 공백)
값/주소: [g클라우드 서버 IP 주소]
TTL: 3600 (1시간)
```

#### www 서브도메인 설정
```
레코드 타입: A
호스트명: www
값/주소: [g클라우드 서버 IP 주소]
TTL: 3600
```

### 예시 (도메인이 example.co.kr인 경우)
| 레코드 타입 | 호스트명 | 값 | TTL |
|-------------|----------|-----|-----|
| A | @ | 123.456.78.90 | 3600 |
| A | www | 123.456.78.90 | 3600 |

## 3. 추가 DNS 레코드 설정 (선택사항)

### API 서브도메인 (별도 API 도메인이 필요한 경우)
```
레코드 타입: A
호스트명: api
값/주소: [g클라우드 서버 IP 주소]
TTL: 3600
```

### 관리자 서브도메인
```
레코드 타입: A
호스트명: admin
값/주소: [g클라우드 서버 IP 주소]
TTL: 3600
```

### CNAME 레코드 (별칭 설정)
www를 메인 도메인으로 리다이렉트하려면:
```
레코드 타입: CNAME
호스트명: www
값/주소: example.co.kr
TTL: 3600
```

## 4. 이메일 관련 DNS 설정 (선택사항)

### MX 레코드 (이메일 수신용)
Gmail을 사용하는 경우:
```
레코드 타입: MX
호스트명: @
값/주소: ASPMX.L.GOOGLE.COM
우선순위: 1
TTL: 3600

추가 MX 레코드:
ALT1.ASPMX.L.GOOGLE.COM (우선순위: 5)
ALT2.ASPMX.L.GOOGLE.COM (우선순위: 5)
ALT3.ASPMX.L.GOOGLE.COM (우선순위: 10)
ALT4.ASPMX.L.GOOGLE.COM (우선순위: 10)
```

### TXT 레코드 (도메인 소유권 확인용)
```
레코드 타입: TXT
호스트명: @
값/주소: "v=spf1 include:_spf.google.com ~all"
TTL: 3600
```

## 5. 가비아 DNS 관리 패널 사용법

### DNS 레코드 추가하기
1. **DNS 관리** 페이지에서 **레코드 추가** 버튼 클릭
2. **레코드 타입** 선택 (A, CNAME, MX, TXT 등)
3. **호스트명** 입력
4. **값/주소** 입력
5. **TTL** 설정 (기본값 3600 권장)
6. **저장** 또는 **추가** 버튼 클릭

### DNS 레코드 수정하기
1. 기존 레코드에서 **수정** 버튼 클릭
2. 필요한 정보 변경
3. **저장** 버튼 클릭

### DNS 레코드 삭제하기
1. 삭제할 레코드에서 **삭제** 버튼 클릭
2. 확인 팝업에서 **확인** 클릭

## 6. vridge 프로젝트를 위한 권장 DNS 설정

### 기본 설정 (필수)
```
A     @       123.456.78.90     3600
A     www     123.456.78.90     3600
```

### 확장 설정 (선택사항)
```
A     api     123.456.78.90     3600
A     admin   123.456.78.90     3600
A     cdn     123.456.78.90     3600
TXT   @       "v=spf1 include:_spf.google.com ~all"   3600
```

## 7. DNS 설정 확인 방법

### 온라인 DNS 조회 도구
- **네이버 DNS 조회**: https://dns.naver.com
- **Google DNS 조회**: https://toolbox.googleapps.com/apps/dig/
- **What's My DNS**: https://www.whatsmydns.net

### 명령어로 확인 (Windows)
```cmd
nslookup yourdomain.co.kr
nslookup www.yourdomain.co.kr
```

### 명령어로 확인 (macOS/Linux)
```bash
dig yourdomain.co.kr
dig www.yourdomain.co.kr
ping yourdomain.co.kr
```

## 8. DNS 전파 시간

### 일반적인 전파 시간
- **가비아 DNS**: 10분 ~ 1시간
- **ISP DNS**: 1시간 ~ 24시간
- **전 세계 전파**: 24시간 ~ 48시간

### 빠른 전파를 위한 팁
1. **TTL 값을 낮게 설정** (300초 = 5분)
2. **변경 전에 미리 TTL 낮추기**
3. **DNS 캐시 플러시**:
   - Windows: `ipconfig /flushdns`
   - macOS: `sudo dscacheutil -flushcache`
   - Linux: `sudo systemctl restart systemd-resolved`

## 9. 일반적인 DNS 설정 문제 해결

### 문제 1: 도메인이 연결되지 않음
**해결방법:**
1. IP 주소가 정확한지 확인
2. A 레코드가 올바르게 설정되었는지 확인
3. DNS 전파 대기 (최대 48시간)
4. 브라우저 캐시 삭제

### 문제 2: www는 되는데 메인 도메인이 안됨
**해결방법:**
1. @ (루트 도메인) A 레코드 확인
2. 호스트명이 빈칸 또는 @으로 설정되었는지 확인

### 문제 3: 이메일이 수신되지 않음
**해결방법:**
1. MX 레코드 설정 확인
2. 우선순위 값 확인
3. 이메일 서비스 제공업체 설정 확인

## 10. 가비아 DNS 고급 설정

### 지역별 DNS 라우팅 (GeoDNS)
- 국내 사용자: 국내 서버 IP
- 해외 사용자: 해외 서버 IP

### DNS 로드 밸런싱
```
A     @       123.456.78.90     300
A     @       123.456.78.91     300
A     @       123.456.78.92     300
```

### DNS 페일오버
- 주 서버 장애 시 백업 서버로 자동 전환

## 11. SSL 인증서를 위한 DNS 설정

### Let's Encrypt 인증서 발급 시
자동으로 DNS TXT 레코드가 추가될 수 있음:
```
TXT   _acme-challenge.yourdomain.co.kr   "인증토큰"   300
```

### 와일드카드 인증서를 위한 설정
```
TXT   _acme-challenge   "인증토큰"   300
```

## 12. 실제 설정 예시

### 도메인: vridge.co.kr, 서버 IP: 123.456.78.90

| 타입 | 호스트명 | 값 | TTL | 설명 |
|------|----------|-----|-----|------|
| A | @ | 123.456.78.90 | 3600 | 메인 도메인 |
| A | www | 123.456.78.90 | 3600 | www 서브도메인 |
| A | api | 123.456.78.90 | 3600 | API 서브도메인 |
| A | admin | 123.456.78.90 | 3600 | 관리자 도메인 |
| TXT | @ | "v=spf1 -all" | 3600 | 스팸 방지 |

## 13. DNS 설정 완료 후 확인사항

### 1. 기본 연결 테스트
```bash
ping vridge.co.kr
ping www.vridge.co.kr
```

### 2. 웹 서비스 접속 테스트
- http://vridge.co.kr
- http://www.vridge.co.kr
- https://vridge.co.kr (SSL 설정 후)

### 3. 서브도메인 테스트
- http://api.vridge.co.kr
- http://admin.vridge.co.kr

## 14. 자주 묻는 질문 (FAQ)

### Q: DNS 설정이 언제 적용되나요?
A: 가비아 DNS는 보통 10분~1시간 내에 적용되지만, 전 세계 전파는 최대 48시간이 걸릴 수 있습니다.

### Q: IP 주소를 어떻게 확인하나요?
A: g클라우드 관리 페이지에서 서버의 공인 IP를 확인할 수 있습니다.

### Q: 무료 SSL 인증서를 사용할 수 있나요?
A: 네, Let's Encrypt를 통해 무료 SSL 인증서를 발급받을 수 있습니다.

### Q: 서브도메인을 추가로 만들 수 있나요?
A: 네, A 레코드를 추가하여 원하는 만큼 서브도메인을 만들 수 있습니다.

## 15. 가비아 고객지원

### 연락처
- **전화**: 1588-3622
- **이메일**: help@gabia.com
- **채팅 상담**: 가비아 웹사이트 우하단

### 상담 시간
- **평일**: 09:00 ~ 18:00
- **주말/공휴일**: 휴무

---

이 가이드를 따라하시면 가비아 DNS를 성공적으로 설정할 수 있습니다!