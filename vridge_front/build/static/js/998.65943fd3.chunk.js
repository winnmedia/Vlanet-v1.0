"use strict";(self.webpackChunkvridge=self.webpackChunkvridge||[]).push([[998],{7998:(e,s,l)=>{l.r(s),l.d(s,{default:()=>u});l(655);var i=l(7778),a=l(9989),n=l(6549),c=l(7533),t=l(7255),r=l(51),d=l(9950),o=l(8429),p=l(1183),m=l(9980),h=l(2569),j=l(4414);function u(){const e=(0,h.wA)(),{sample_files:s}=(0,h.d4)(e=>e.ProjectStore),l=(0,o.Zp)(),u=(0,m.d)(),x=(0,m._O)(),{inputs:f,onChange:N}=(0,c.A)(u,e=>e.length<50),{name:g,description:v,manager:w,consumer:C}=f,[_,b]=(0,d.useState)(x),{files:k,FileChange:A,FileDelete:y}=(_.filter((e,s)=>null==e.startDate||null==e.endDate),(0,t.A)([]));(0,d.useEffect)(()=>{(0,m.dy)()||l("/Login",{replace:!0})},[]);const D=!!(g&&v&&w&&C);function F(e){return e.split("/").pop().split("\\").pop()}return(0,j.jsx)(i.A,{children:(0,j.jsxs)("div",{className:"cms_wrap",children:[(0,j.jsx)(a.A,{}),(0,j.jsxs)("main",{className:"project edit",children:[(0,j.jsx)("div",{className:"title",children:"\ud504\ub85c\uc81d\ud2b8 \ub4f1\ub85d"}),(0,j.jsxs)("div",{className:"content",children:[(0,j.jsx)("div",{className:"group grid",children:(0,j.jsx)(n.A,{inputs:f,onChange:N})}),(0,j.jsx)("div",{className:"group mt50",children:(0,j.jsxs)("div",{className:"part day",children:[(0,j.jsx)("div",{className:"s_title",children:"\ud504\ub85c\uc81d\ud2b8 \uc77c\uc815"}),(0,j.jsx)(r.A,{process:_,set_process:b})]})}),(0,j.jsxs)("div",{className:"group grid mt50",children:[(0,j.jsxs)("div",{className:"part file",children:[(0,j.jsx)("div",{className:"s_title",children:"\ubb38\uc11c \uc591\uc2dd"}),(0,j.jsx)("ul",{className:"sample",children:(0,j.jsx)("li",{children:s.map((e,s)=>(0,j.jsx)("span",{onClick:()=>function(e){if(e){const s=document.createElement("a");s.href=e,s.download=F(e),s.target="_self",s.click()}}(e.files),children:F(e.file_name)},s))})})]}),(0,j.jsxs)("div",{className:"part file",children:[(0,j.jsx)("div",{className:"s_title",children:"\ud30c\uc77c \ub4f1\ub85d"}),(0,j.jsx)("ul",{className:"upload",children:(0,j.jsxs)("li",{children:[(0,j.jsx)("label",{htmlFor:"file",children:(0,j.jsx)("div",{className:"btn-upload",children:"\ud30c\uc77c \uc5c5\ub85c\ub4dc"})}),(0,j.jsx)("input",{type:"file",name:"file",id:"file",onChange:A})]})}),(0,j.jsx)("ul",{className:"sample",children:k.map((e,s)=>(0,j.jsxs)("li",{children:[e.name,(0,j.jsx)("button",{onClick:()=>y(s),children:"\uc0ad\uc81c"})]},s))})]})]}),(0,j.jsx)("div",{className:"btn_wrap",children:(0,j.jsx)("button",{onClick:function(){if(D){const s=new FormData;s.append("inputs",JSON.stringify(f)),s.append("process",JSON.stringify(_)),k.forEach((e,l)=>{s.append("files",e)}),(0,p.mN)(s).then(s=>{(0,m.XH)(e,l),window.alert("\ud504\ub85c\uc81d\ud2b8 \uc0dd\uc131 \uc644\ub8cc"),l("/Calendar")}).catch(e=>{console.log(e),e.response&&e.response.data&&window.alert(e.response.data.message)})}else window.alert("\uc785\ub825\ub780\uc744 \ucc44\uc6cc\uc8fc\uc138\uc694.")},className:"submit",children:"\ub4f1\ub85d"})})]})]})]})})}}}]);